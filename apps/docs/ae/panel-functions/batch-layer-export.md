# 批量图层导出功能

## 概述

主面板上的“导出图层”按钮提供了一种快速将多个图层批量导出为独立图片资源的方式。

## 工作流程

当用户点击“导出图层”按钮时，系统会执行以下自动化流程：

1.  **获取选区**: 系统首先会获取 After Effects 当前活动合成中所有被用户**选中的图层**。

2.  **分析与筛选**: 接着，它会遍历所有选中的图层，并调用 `analyzeLayer` 函数对每一个图层进行分析，自动筛选出所有**可导出**的图层（如形状、文本、设计文件、预合成等），并忽略所有不可导出的图层。

3.  **创建导出目录**: 系统会根据用户在“设置”中配置的导出路径规则，创建一个本次批量导出的专用文件夹（通常会带上时间戳以避免重名）。

4.  **逐一导出**: 系统会遍历所有被筛选出的可导出图层，并调用 `exportSingleLayer` 核心导出函数，将它们**逐一渲染并保存**为 PNG 图片到上一步创建的目录中。

5.  **结果反馈**: 导出全部完成后，会在插件的日志面板中显示总结信息，包括成功导出的文件数量、跳过的文件数量以及最终文件的保存路径。

## 注意事项

- 此功能只处理**当前选中的图层**。如果未选中任何图层，则不会执行任何操作。
- 导出的文件格式默认为 **PNG**。
- 导出的文件路径和命名规则遵循用户在**设置面板**中的配置。
