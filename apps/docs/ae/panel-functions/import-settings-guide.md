# 指南：导入设置 (Import Settings)

本文档详细说明了“导入设置”面板组的功能，该面板组决定了从Eagle导入到After Effects的文件如何被处理和存放。

## UI布局：快速设置与高级设置

此功能在扩展中有两处UI入口，它们控制的是同一套设置，并保持实时同步：

1.  **主面板 (快速设置)**: 这是扩展主界面上始终可见的面板组。它提供了最核心的“导入模式”选项，让用户可以快速切换。选择部分选项（如“项目旁复制”或“指定文件夹”）会直接弹出配置对话框，方便进行快捷设置。

2.  **高级设置面板**: 点击主界面右上角的齿轮 `⚙️` 图标进入。这里包含了所有与导入相关的详细选项，包括主面板的设置以及其他更细致的配置。

本文档主要解释这些设置的**功能逻辑**，这些逻辑对两个面板都适用。

## 核心概念：导入模式 (Import Mode)

“导入模式”是控制文件位置的核心设置。无论选择哪种模式，文件的处理方式基本都是**复制**，而不是移动或链接。

面板上提供了三种导入模式：

### 1. 直接导入 (Direct Import)

-   **工作方式**: 此模式下，AE将直接使用文件的原始路径进行导入。不会创建任何副本。
-   **适用场景**: 当您的素材已经存放在最终位置，不希望产生任何冗余文件时。
-   **特殊逻辑**:
    -   **剪贴板内容**: 如果您从剪贴板粘贴的是临时图像（例如截图），此模式会**自动、强制**切换到“项目旁复制”逻辑，将该图像保存到AE项目文件旁的 `Eagle_Assets` 文件夹中，以防止因临时文件丢失导致素材链接失效。

### 2. 项目旁复制 (Project Adjacent)

-   **工作方式**: 此模式会将所有导入的文件**复制**到一个位于当前 `.aep` 项目文件所在目录的子文件夹中。
-   **默认文件夹**: 默认的子文件夹名称是 `Eagle_Assets`。
-   **配置**: 在主面板的快速设置中选择此项时，会弹出配置对话框，允许您修改这个子文件夹的名称。此设置会被保存。
-   **适用场景**: 这是最推荐的默认选项，能确保所有素材和项目文件都集中管理，便于项目迁移和归档。

### 3. 指定文件夹 (Custom Folder)

-   **工作方式**: 此模式会将所有导入的文件**复制**到您指定的任意一个文件夹中。
-   **配置**: 在主面板的快速设置中选择此项时，会弹出配置对话框，您可以在其中输入或浏览选择一个目标文件夹。系统会记录您最近使用过的文件夹路径，方便快速切换。
-   **适用场景**: 当您有统一的全局素材库，并希望所有项目都从该库引用素材时。

## 辅助设置

### 添加到合成 (Add to Composition)

-   **功能**: 勾选后，导入的素材会自动添加到当前活动的合成中。
-   **时间轴放置**: 当"添加到合成"被激活时，您可以进一步设置素材在时间轴上的放置方式：
    -   **播放头位置 (Playhead)**: 素材被放置在当前时间指示器的位置。
    -   **时间轴起点 (Timeline Start)**: 素材被放置在时间轴的起点位置（0秒）。

### 导入行为 (Import Behavior)

“导入行为”决定了导入的素材在After Effects项目中的最终处理方式。

-   **不导入合成 (Do not import composition)**:
    -   **功能**: 当选择此选项时，导入的素材将**不会**被自动添加到任何After Effects合成中。素材只会导入到项目面板中。
    -   **逻辑**: 内部设置 `addToComposition` 将被设置为 `false`。同时，任何时间轴放置选项（如“当前时间”或“时间轴开始”）都将失效。
    -   **子模式 - 预合成 (Pre-compose)**:
        -   **功能**: 在“不导入合成”模式下，如果内部设置 `noImportSubMode` 被设置为 `'pre_comp'`，系统将为每个导入的素材自动创建一个新的预合成。这些预合成会被组织到项目根目录下的“Precomps”文件夹中（如果不存在则会自动创建）。导入的素材将作为图层添加到这些新创建的预合成中。
        -   **当前状态**: **请注意，目前控制 `noImportSubMode` 的用户界面选项尚未公开。** 预合成功能目前仅通过内部配置触发。
