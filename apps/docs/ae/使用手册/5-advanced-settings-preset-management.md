# 5. 高级设置与预设管理

本章是您成为 Eagle2Ae 高级用户的必读指南。这里将详细解释高级设置面板中的每一个选项，并重点介绍如何使用强大的预设管理功能来保存和加载您的个人化工作流。

---

## 1. 如何打开高级设置

点击插件主界面右上角的 **齿轮图标 (⚙️)** 即可打开高级设置面板。

> **核心机制提示**：高级设置面板中的所有选项都是**即时保存**的。您做出的任何更改都会被立即应用并记忆，无需寻找“保存”按钮。

## 2. 导入设置详解

此区域提供了对导入工作流的精细控制。

### 导入模式（文件存放位置）

此设置决定了从外部导入的文件实体，最终被存放在您电脑的哪个位置。

#### 直接导入

- **效果**: 直接链接到素材的原始路径，不复制文件。
- **工作原理**: After Effects 中创建的素材项，其文件路径直接指向它在 Eagle 素材库或您电脑中的原始位置。
- **优点**: 速度最快，不占用额外磁盘空间。
- **风险**: **极不推荐**在正式项目中使用。一旦原始文件被移动、重命名或删除，AE项目中的素材会立即丢失（显示为红色条纹），且无法恢复。

#### 项目旁复制

- **效果**: 将素材文件复制到当前AE项目（`.aep`）文件旁边的一个子文件夹中。
- **工作原理**: 插件会自动在您的 `.aep` 文件所在位置创建一个子文件夹（您可以在下方“项目旁文件夹名称”处自定义该名称，默认为 `Eagle_Assets`），然后将所有导入的素材复制进去。
- **优点**: **最安全、最推荐的模式**。它保证了项目的“可移植性”，当您需要将整个项目文件夹打包发给他人时，所有素材都会包含在内，不会丢失。

#### 指定文件夹

- **效果**: 将所有导入的素材统一复制到一个您指定的全局文件夹中。
- **工作原理**: 您可以在下方的“自定义文件夹路径”中设定一个固定的文件夹。所有通过此模式导入的素材都会被复制到这里。
- **优点**: 便于对所有外部导入的素材进行集中化、跨项目的管理和清理。

### 导入行为（三按钮，四模式）

此设置掌管素材导入后的最终去向，它由三个可交互的按钮控制，共提供四种不同的工作模式。其中两个按钮支持**再次点击以切换子模式**。

#### 按钮一 & 二：添加到合成 (双模式)

这两个按钮控制素材是否添加到合成，以及添加到合成的位置。它们是互斥的，但其中一个按钮自身可以在两种模式间切换。

- **模式一: `当前时间`**

  - **激活方式**: 点击此按钮，按钮文本显示为 `当前时间`。
  - **功能**: 将素材作为新图层添加到当前激活的合成中，图层的入点与**当前时间指示器（播放头）**的位置对齐。
- **模式二: `时间轴起点`**

  - **激活方式**: 在“当前时间”模式下，**再次点击**同一个按钮，文本会切换为 `时间轴起点`。
  - **功能**: 将素材作为新图层添加到当前激活的合成中，图层的入点在**时间轴的最开始（0帧）**。

#### 按钮三：不添加到合成 (双模式)

此按钮让素材不直接影响当前时间轴，并提供两种不同的后台组织方式。

- **模式三: `不导入合成`**

  - **激活方式**: 点击此按钮，按钮文本显示为 `不导入合成`。
  - **功能**: 标准的“仅导入”模式。素材只出现在**项目面板**中，供您后续手动使用。
- **模式四: `创建预合成`**

  - **激活方式**: 在“不导入合成”模式下，**再次点击**同一个按钮，文本会切换为 `创建预合成`。
  - **功能**: 插件会为每个导入的素材，在**项目面板的根目录**下自动创建一个独立的**预合成（Pre-comp）**容器，并将素材放入其中。这便于您后续为该素材添加独立的效果或动画，同时保持主合成的整洁。

## 3. 导出设置详解

此区域控制通过“导出图层”或“导出到Eagle”功能生成文件的规则。

### 导出路径模式

此设置决定了从AE导出的文件默认保存在哪里。

- **桌面**: 导出的文件将保存在系统桌面。
- **项目旁**: 导出的文件将保存在与AE项目文件同级的子文件夹中。
- **指定文件夹**: 导出的文件将保存在您设定的全局素材文件夹中。

> **重要逻辑**: 为保证素材管理的一致性，“项目旁”和“指定文件夹”模式的路径，会**直接复用**您在上方“导入设置”中对应的配置。您无法在此处为导出单独设置路径。

### 导出选项

- **自动复制路径**: 导出完成后，自动将导出文件夹的路径复制到系统剪贴板，方便您立即粘贴使用。
- **阅后即焚**: 一个为临时分享和预览设计的特殊模式。启用后，文件会导出到一个由插件管理的系统临时文件夹中，而不是上述指定的常规路径。

  - **用途**: 适用于快速生成预览图发给同事，而不想在本地保留这些临时文件。
  - **高级操作 (需连接Eagle)**:
    - `Alt + 点击复选框`: **清空**临时文件夹。
    - `Ctrl + 点击复选框`: 在文件管理器中**打开**临时文件夹。
- **添加时间戳前缀**: 在导出的文件夹名称前添加 `YYYY-MM-DDTHH-mm-ss_` 格式的时间戳，确保每次导出的文件夹名称都独一无二，避免覆盖。
- **添加合成名前缀**: 在导出的文件夹名称前，添加当前活动合成的名称作为前缀，便于识别文件来源。

## 4. 通信与其它设置

- **通讯端口号**: 设置与Eagle插件通信的端口号。**修改此项需要重启AE插件和Eagle插件才能生效。**

## 5. 预设管理：保存与加载你的工作流

这是本插件最高效的功能之一。您可以将当前的所有设置（包括导入、导出、通信等所有选项）保存为一个预设，方便在不同项目或工作场景中一键切换。

### 什么是预设？

预设是您当前所有设置的一个快照，以 `.json` 文件的形式保存在您的电脑上。通过预设，您可以快速在不同的工作流配置之间切换，例如“个人项目预设”和“团队协作预设”。

### 保存与导出当前设置

- **保存预设**: 将当前配置保存到您的预设文件夹中。您需要为它指定一个名称。
- **导出预设**: 功能与“保存”类似，但会弹出一个系统“另存为”窗口，让您可以将预设文件保存到电脑的任意位置，方便分享给他人。

### 加载预设文件

- 点击 **`读取预设`**，从您的预设文件夹中选择一个 `.json` 文件。插件会立即加载该文件中的所有设置并刷新界面，让配置即刻生效。

### 重置为默认值

- 点击后，所有设置将恢复到插件的初始默认状态。

### 管理预设文件路径

- **默认路径**: 默认情况下，所有预设都保存在“我的文档”下的 `Eagle2Ae-Ae\presets` 文件夹中。
- **自定义路径**: 您可以在“自定义预设路径”输入框中指定一个新的文件夹。点击“浏览...”按钮可以方便地选择文件夹。设置后，“保存”和“读取”操作都将以这个新路径为准。

---

至此，您已了解所有高级功能。最后，请阅读 **[《6-常见问题与解答》](./6-常见问题与解答.md)**，它能帮助您解决使用中可能遇到的问题。
