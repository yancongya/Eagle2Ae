# 4. 工作流：从AE中提取并归档素材

本章将指导您如何使用 Eagle2Ae 插件，将您在 After Effects 中的创意成果——如图形、文字、预合成快照等——快速导出，并归档到 Eagle 素材库或本地文件夹，方便未来的复用和管理。

---

## 1. 为何要从AE中导出？

在复杂的项目中，您可能会创建大量可复用的元素，例如：

-   一个设计精美的**标题样式**
-   一个包含多图层动画的**预合成**
-   一个用形状图层制作的**UI图标或背景**

将这些元素的某一帧状态导出为图片，可以方便地在 Eagle 中建立“组件库”，或快速分享给同事预览。

## 2. 标准导出工作流

与之前的理解不同，导出流程非常直接，**无需**预先点击“检测图层”。

### 步骤一：在AE时间轴中选择图层

这是最关键的一步。在您的活动合成中，**用鼠标选中一个或多个您希望导出的图层**。

您可以选择任何类型的图层，包括：
- 文本图层
- 形状图层
- 包含素材的图层 (图片、视频等)
- 预合成 (Pre-composition)

### 步骤二：选择导出方式

根据您的需求，点击插件核心功能区的两个导出按钮之一：

- **选项A：导出到本地文件夹**
  - **操作**: 点击 **`导出图层`** 按钮。
  - **结果**: 插件会将您选中的每个图层渲染为一张独立的 `.png` 图片，并保存到您在 **[《5-高级设置与预设管理》](./5-高级设置与预设管理.md)** 中指定的本地文件夹中。

- **选项B：导出到 Eagle 素材库**
  - **操作**: 点击 **`导出到Eagle`** 按钮。
  - **结果**: 插件同样会将选中的图层渲染为图片，但随后会直接将这些图片发送到您当前打开的 Eagle 素材库，并智能地附上当前AE项目名、合成名等作为标签，方便您归档和检索。

## 3. (可选) 步骤：使用“检测图层”进行预分析

虽然“检测图层”不是必须步骤，但它是一个非常有用的**辅助诊断工具**。

- **使用场景**: 在您点击导出按钮**之前**，如果您不确定选中的图层是否能被成功导出（例如，它可能包含插件不支持的特定效果），或者您想预览图层的详细信息（如原始文件路径、尺寸等）。

- **操作**: 
  1. 先在时间轴选中图层。
  2. 点击 **`检测图层`** 按钮。
  3. 插件会弹出一个详细的分析报告，清晰地列出哪些图层“可导出”，哪些“不可导出”以及原因。

> **总结**：直接选中图层并点击导出按钮是最快的流程。仅在需要预先诊断时，才使用“检测图层”功能。

### “图层检测总结”面板详解

当您点击“检测图层”按钮后，弹出的总结面板不仅是一个报告，更是一个交互式的工具。

#### 1. 统计信息区

面板顶部会清晰地统计出当前合成中可导出和不可导出的图层数量及其分类。

#### 2. 图层列表与交互

- **悬浮提示**: 将鼠标悬停在任意图层名称上，会显示一个包含该图层完整路径、尺寸等详细信息的浮动提示框。
- **点击交互**: 总结面板的核心交互是**直接点击图层名称**，根据图层类型的不同，会触发不同的操作：

  - ##### 对于素材图层 (图片, 视频等):

    > **功能：快速定位源文件。** 点击后会直接在您的操作系统文件管理器中打开该素材文件所在的文件夹。
    >
  - ##### 对于预合成或设计文件 (PSD, AI):

    > **功能：快速导出单帧预览。** 点击后会立即将该合成/图层的当前画面渲染为一张PNG图片，并保存到您设置的导出目录中。
    >
  - ##### 对于其他图层 (形状, 纯色等):

    > 如果图层可导出（如文本、形状图层），点击同样会执行**导出单帧**操作。如果不可导出，则通常只会显示包含详细信息的提示。
    >

---

恭喜您掌握了插件的双向工作流！接下来，您可以阅读 **[《5-高级设置与预设管理》](./5-高级设置与预设管理.md)**，学习如何深度自定义您的插件配置。
