# Eagle2Ae AE扩展 版本变更记录

本文档记录了Eagle2Ae After Effects CEP扩展的所有版本变更和功能更新。

## [v2.1.2] - 2024-01-15

### 修复问题
- 🐛 修复时间轴设置检查逻辑错误
  - 将检查条件从 `timelineOptions.enabled` 修正为 `timelineOptions.placement`
  - 确保 `current_time` 模式下图层正确放置在当前时间位置
  - 修复了导入文件时图层位置不正确的问题

---

## [v2.1.1] - 2024-01-05

### 新增功能
- ✨ 强制中文文件名解码支持
- ✨ 序列帧自动识别功能
- ✨ 演示模式支持
- ✨ 端口广播机制
- ✨ 静默模式文件导入
- ✨ 音效播放支持
- ✨ 剪贴板粘贴导入
- ✨ 拖拽文件导入

### 改进优化
- 🚀 优化启动性能，禁用端口发现以减少延迟
- 🚀 改进HTTP轮询机制，提高兼容性
- 🚀 增强连接监控，添加延迟和成功率统计
- 🚀 优化文件处理逻辑，支持临时文件处理
- 🚀 改进错误处理和用户反馈
- 🚀 增强日志管理，支持分类显示

### 修复问题
- 🐛 修复中文文件名显示问题
- 🐛 修复WebSocket重连机制
- 🐛 修复合成状态检查逻辑
- 🐛 修复文件导入时的路径处理
- 🐛 修复内存泄漏问题

### 技术改进
- 🔧 重构主应用类架构
- 🔧 模块化组件设计
- 🔧 统一错误处理机制
- 🔧 改进代码注释和文档
- 🔧 优化性能监控

### 破坏性变更
- ⚠️ 更改了WebSocket客户端类名为`Eagle2AeWebSocketClient`
- ⚠️ 修改了消息格式，使用数字时间戳替代ISO字符串
- ⚠️ 重构了文件处理器接口

---

## [v2.1.0] - 2023-12-15

### 新增功能
- ✨ WebSocket通信支持
- ✨ HTTP备用通信模式
- ✨ 文件批量导入
- ✨ 项目旁复制模式
- ✨ 自定义文件夹导入
- ✨ 设置管理系统

### 改进优化
- 🚀 优化用户界面响应速度
- 🚀 改进文件导入流程
- 🚀 增强错误提示信息

### 修复问题
- 🐛 修复文件路径解析问题
- 🐛 修复合成创建逻辑

---

## [v2.0.0] - 2023-11-20

### 新增功能
- ✨ 全新的CEP扩展架构
- ✨ ExtendScript后端支持
- ✨ 基础文件导入功能
- ✨ 项目信息获取
- ✨ 合成管理功能

### 技术改进
- 🔧 采用模块化设计
- 🔧 分离前端和后端逻辑
- 🔧 统一API接口

---

## [v1.0.0] - 2023-10-01

### 初始版本
- 🎉 Eagle2Ae项目启动
- ✨ 基础通信框架
- ✨ 简单文件传输功能
- ✨ 基础用户界面

---

## 版本说明

### 版本号规则

本项目遵循[语义化版本](https://semver.org/lang/zh-CN/)规范：

- **主版本号**：不兼容的API修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 变更类型说明

- ✨ **新增功能** (feat): 新的功能特性
- 🚀 **改进优化** (perf): 性能优化和改进
- 🐛 **修复问题** (fix): Bug修复
- 🔧 **技术改进** (refactor): 代码重构和技术改进
- 📚 **文档更新** (docs): 文档相关变更
- ⚠️ **破坏性变更** (BREAKING): 不向下兼容的变更
- 🎉 **重要里程碑** (milestone): 重要版本发布

### 兼容性说明

#### After Effects 兼容性
- **最低要求**: After Effects CC 2018 (15.0)
- **推荐版本**: After Effects 2024 (24.0) 或更高
- **测试版本**: CC 2018, CC 2019, 2020, 2021, 2022, 2023, 2024

#### Eagle 兼容性
- **最低要求**: Eagle 3.0
- **推荐版本**: Eagle 3.0 或更高
- **测试版本**: 3.0, 3.1, 3.2

#### 操作系统兼容性
- **Windows**: Windows 10 或更高版本
- **macOS**: macOS 10.14 (Mojave) 或更高版本

### 升级指南

#### 从 v2.1.0 升级到 v2.1.1

1. **代码变更**:
   - 更新WebSocket客户端实例化代码
   - 检查消息处理逻辑中的时间戳格式
   - 更新文件处理器调用方式

2. **配置变更**:
   - 无需修改配置文件
   - 新增的配置项将使用默认值

3. **测试建议**:
   - 测试中文文件名导入功能
   - 验证序列帧识别功能
   - 检查剪贴板和拖拽导入

#### 从 v2.0.x 升级到 v2.1.x

1. **重要变更**:
   - 通信协议有重大更新
   - 文件处理逻辑完全重构
   - 新增多种导入模式

2. **迁移步骤**:
   - 备份现有配置
   - 更新扩展文件
   - 重新配置导入设置
   - 测试所有功能

### 已知问题

#### v2.1.1
- 在某些网络环境下，WebSocket连接可能不稳定，建议使用HTTP轮询模式
- 大文件导入时可能出现内存占用过高的情况
- 部分第三方插件可能与CEP扩展产生冲突

### 反馈和支持

如果您在使用过程中遇到问题或有改进建议，请通过以下方式联系我们：

- **问题报告**: 请在项目仓库中创建Issue
- **功能建议**: 欢迎提交Feature Request
- **技术讨论**: 可以在项目讨论区参与交流

### 贡献指南

欢迎为Eagle2Ae项目贡献代码和文档：

1. Fork项目仓库
2. 创建功能分支
3. 提交变更
4. 创建Pull Request
5. 等待代码审查

详细的贡献指南请参考项目根目录的CONTRIBUTING.md文件。