class Px500Plugin extends SitePlugin{inject(){const i="eagle-src-loading",l='div[class^="Elements__PhotoCardWrapper"] a img:not([eagle-src]):not([eagle-src-loading]), div[class^="Elements__PhotoContainer"] img:not([eagle-src]):not([eagle-src-loading])';let r={},e=null,t=0;function o(){function n(e){return e.split("/")[4]}if(location.href.startsWith("https://500px.com")){var e=document.querySelectorAll(l);let t=[];e.forEach(e=>{e=n(e.src);t.push(e)}),0<t.length&&!async function(t,o){if(0!=t.length&&0!=o.length){var l=[];for(let e=0;e<t.length;e+=100)l.push(t.slice(e,e+100));l.forEach(async e=>{e=e.join("%2C"),e=await(await fetch("https://api.500px.com/v1/photos?image_size%5B%5D=2048&ids="+e)).json();if(e.photos){let l=e.photos;Object.keys(l).map((e,t)=>{r[e]=l[e].image_url[0]}),o.forEach(e=>{var t=n(e.src);void 0!==r[t]&&e.setAttribute("eagle-src",r[t]),e.removeAttribute(i)})}else o.forEach(e=>{e.removeAttribute(i)})})}}(t,e)}}setInterval(()=>{location.href!=e&&(e=location.href,o())},700);{let e=null;window.addEventListener("scroll",()=>{clearTimeout(e),e=setTimeout(()=>{window.document.body.scrollHeight!=t&&(t=window.document.body.scrollHeight,o())},200)})}let n=setInterval(()=>{document.querySelectorAll(l).length&&(o(),clearInterval(n))},100)}}(new Px500Plugin).inject();