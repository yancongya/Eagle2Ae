"use strict";window.angular.module("app").controller("PreferenceController",["$rootScope","$scope",async(r,a)=>{a.locales=eagle.i18n.getLocales(),a.updateLocale=async()=>{var e=a.preference.overrideLocale;r.overrideLocale=e,await eagle.i18n.init(e),r.preference.overrideLocale=r.overrideLocale,r.preference.save(),a.$applyAsync(),a.$evalAsync(),r.$applyAsync(),r.$evalAsync()},a.setTheme=e=>{r.preference.theme=e,r.preference.save(),a.$evalAsync(),r.$evalAsync()},a.setDragMode=e=>{r.preference.dragMode=e,r.preference.save()},a.setCaptureFormat=e=>{r.preference.captureFormat=e,r.preference.save()},a.setCaptureDelay=e=>{r.preference.captureDelay=e,r.preference.save()},a.toggleUseRetina=()=>{r.preference.useRetina=!r.preference.useRetina,r.preference.save()},a.toggleUsingCollect=()=>{r.preference.usingCollect=!r.preference.usingCollect;var e="http://localhost:41595/api/preferences/collect/"+(r.preference.usingCollect?"on":"off");eagle.fetch(e).then(()=>{}),r.preference.save()},a.toggleDownloadViaBrowser=()=>{r.preference.downloadViaBrowser=!r.preference.downloadViaBrowser,r.preference.save()},a.downloadLogClicked=()=>{eagle.tabs.create({url:eagle.extension.path+"log-viewer/index.html?download=true"})}}]);