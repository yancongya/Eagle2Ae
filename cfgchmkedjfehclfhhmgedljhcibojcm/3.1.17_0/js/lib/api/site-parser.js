class SiteParser{getMeta(){const o=location.href.toLowerCase();var e=this.#getTagsRules();let a=[];return e.forEach(t=>{var e;-1<o.indexOf(t.domain)&&(e=$(t.selector).map(function(){let e=$.trim($(this).text());return e=t.remove?e.replace(t.remove,""):e}).get(),a=e)}),{metaTags:a.join(","),metaDescription:$('meta[name="description"]').attr("content"),metaKeywords:$('meta[name="keywords"]').attr("content"),metaPicture:$('meta[property="og:image"]').attr("content")}}getVideoMeta(){var e=this.parseYoutubeVideoID(location.href),t=this.parseBiliBiliVideoID(location.href),o=this.parseVimeoVideoID(location.href);let a=$("meta[property='og:video:width']").attr("content"),i=$("meta[property='og:video:height']").attr("content"),r,s,n,m,c;return e&&(s=e,c="youtube",r=`https://i.ytimg.com/vi/${e}/hqdefault.jpg`,e=$(".ytp-time-duration:first").text())&&0<this.hmsToSecondsOnly(e)&&(n=this.hmsToSecondsOnly(e)),t&&(s=t,c="bilibili",r=(r=(r=$("meta[property='og:image']").attr("content")).startsWith("//")?location.protocol+r:r).replace(/@\d+w_\d+h_\S+\.\S+$/,""),a=$("meta[property='og:width']").attr("content"),i=$("meta[property='og:height']").attr("content"),m=`https://player.bilibili.com/player.html?bvid=${t}&page=1`,e=$(".bpx-player-ctrl-time-duration").text())&&0<this.hmsToSecondsOnly(e)&&(n=this.hmsToSecondsOnly(e)),o&&(s=o,c="vimeo",t=$(".vp-preview"),i=0<t.length?(r=t.attr("data-thumb"),e=new URL(r),a=e.searchParams.get("mw"),e.searchParams.get("mh")):(r=$("meta[property='og:image']").attr("content"),a=$("meta[property='og:video:width']").attr("content"),$("meta[property='og:video:height']").attr("content")),o=$(".vp-progress [aria-valuemax]").attr("aria-valuemax"))&&0<this.hmsToSecondsOnly(o)&&(n=this.hmsToSecondsOnly(o)),{videoWidth:a,videoHeight:i,videoThumb:r,videoID:s,videoDuration:n,videoEmbed:m,videoMedium:c}}#getTagsRules(){return[{domain:"instagram.com",selector:"span a:contains(#)",remove:"#"},{domain:"behance.net",selector:".object-tag"},{domain:"dribbble.com",selector:".popular-tags .tag a"},{domain:"lymma.net",selector:".tags .tag"},{domain:"designspiration.net",selector:".descriptionTag",remove:"#"},{domain:"500px.com",selector:".tag-container .tag"},{domain:"artstation.com",selector:".tags .label-tag",remove:"#"},{domain:"abduzeedo.com",selector:".field__items .field__item a"},{domain:"fubiz.net",selector:".post-full-tags a"},{domain:"medium.com",selector:".tags a"},{domain:"uxplanet.org",selector:".tags a"},{domain:"medium.muz.li",selector:".tags a"},{domain:"httpster.net",selector:".Snapshot__tags .Tag"},{domain:"land-book.com",selector:".icon-bookmark ~ .website-attribute a"},{domain:"ui.cn",selector:".works-tag a"},{domain:"uisdc.com",selector:".tags [rel='tag']"},{domain:"uiiiuiii.com",selector:".itags .cont a"},{domain:"logopond.com",selector:"strong:contains(Tags) ~ a"},{domain:"deviantart.com",selector:".discoverytag",remove:"#"},{domain:"mydesy.com",selector:".cb-tags [rel='tag']"},{domain:"uplabs.com",selector:".post__side-preview-tag a"},{domain:"onepagelove.com",selector:".review-tags a"},{domain:"design-milk.com",selector:".tags a"},{domain:"unsplash.com",selector:"p:contains(Related tags) ~ div a"},{domain:"pinterest.com",selector:".AggregatedCloseupCard a:contains(#)",remove:"#"},{domain:"flickr.com",selector:".tags-list li"},{domain:"huaban.com",selector:"#tag-group a"},{domain:"zcool.com.cn/article",selector:".work-taglist .worktag-con a"},{domain:"zcool.com.cn/work",selector:".works-tag-wrap a"},{domain:"zhuanlan.zhihu.com",selector:".PostIndex-topicItem"},{domain:"toutiao.com",selector:".tag-list .tag-item"},{domain:"zhihu.com",selector:".QuestionHeader-topics .Tag-content a"},{domain:"gooood.hk",selector:".entry-spec a"},{domain:"archdaily.com",selector:".single-tags-cats__module .more-btns"},{domain:"archdaily.cn",selector:".single-tags-cats__module .more-btns"},{domain:"freshome.com",selector:".tags-nav a"},{domain:"home-designing.com",selector:".post-tags a"},{domain:"justeasy.cn",selector:"#biaoqianactive li a"},{domain:"sj33.cn",selector:".tagc2"}]}parseYoutubeVideoID(e){e=e.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?/\s]{11})/);return!(!e||11!=e[1].length)&&e[1]}parseBiliBiliVideoID(e){try{return e.split("bilibili.com/video/")[1].split("/?")[0]}catch(e){}}parseVimeoVideoID(e){e=e.match(/^.+vimeo.com\/(.*\/)?(\d+)/);return e?e[2]:null}hmsToSecondsOnly(e){var t=e.split(":");let o=0,a=1;for(;0<t.length;)o+=a*parseInt(t.pop(),10),a*=60;return o}}eagle.siteParser=new SiteParser;