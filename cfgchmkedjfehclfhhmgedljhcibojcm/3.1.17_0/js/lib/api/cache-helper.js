class CacheHelper{async toDataURL(e,a=2e3){const r=new AbortController;a=setTimeout(()=>r.abort(),a);try{if(!eagle.env?.isAppSupportURLEnlarger)return!1;var t=await(await fetch(e,{signal:r.signal})).blob();const n=new FileReader;return n.readAsDataURL(t),new Promise((r,e)=>{n.onerror=e,n.onloadend=()=>{var e=n.result,a=e.startsWith("data:image");r(!!a&&e)}})}catch(e){return!1}finally{clearTimeout(a)}}}eagle.cacheHelper=new CacheHelper;