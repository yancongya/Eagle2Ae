const script=document.getElementById("eagle-script"),src=script.src,downloadURL=script.getAttribute("data-download-url");let targetElement=document.querySelector("video")||document.querySelector("audio")||document.querySelector("img");(targetElement&&"VIDEO"===targetElement.tagName||"AUDIO"===targetElement.tagName)&&(targetElement.muted=!0),(async()=>{var e=await fetch(downloadURL);if(!e.ok)throw new Error("HTTP error! status: "+e.status);var t=e.headers.get("Content-Length"),r=e.headers.get("Content-Type"),a=e.body.getReader();let o=0;for(var n=[];;){var{done:d,value:l}=await a.read();if(d)break;n.push(l),o+=l.length,t&&(d=Math.floor(o/t*100),targetElement.setAttribute("data-progress",d))}e=new Blob(n,{type:r||"application/octet-stream"});const s=new FileReader;s.onloadend=()=>{var e=s.result;targetElement.setAttribute("data-base64",e)},s.onerror=()=>{},s.readAsDataURL(e)})();