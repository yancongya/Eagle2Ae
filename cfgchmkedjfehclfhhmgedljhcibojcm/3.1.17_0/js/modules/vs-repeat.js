!function(D,N){"use strict";var e=document.documentElement,n=e.matches?"matches":e.matchesSelector?"matchesSelector":e.webkitMatches?"webkitMatches":e.webkitMatchesSelector?"webkitMatchesSelector":e.msMatches?"msMatches":e.msMatchesSelector?"msMatchesSelector":e.mozMatches?"mozMatches":e.mozMatchesSelector?"mozMatchesSelector":null,F=N.element.prototype.closest||function(e){for(var t=this[0].parentNode;t!==document.documentElement&&null!=t&&!t[n](e);)t=t.parentNode;return t&&t[n](e)?N.element(t):N.element()};function Y(){var e,t,n;return"pageYOffset"in D?{scrollTop:pageYOffset,scrollLeft:pageXOffset}:(e=(t=document).documentElement,t=t.body,n=e.scrollLeft||t.scrollLeft||0,{scrollTop:e.scrollTop||t.scrollTop||0,scrollLeft:n})}function j(e,t){return e===D?"clientWidth"===t?D.innerWidth:D.innerHeight:e[t]}e=N.module("vs-repeat",[]).directive("vsRepeat",["$compile","$parse",function(P,W){return{restrict:"A",scope:!0,compile:function(e,t){var n,B,E,O,A,s=N.isDefined(t.vsRepeatContainer)?N.element(e[0].querySelector(t.vsRepeatContainer)):e,t=s.children().eq(0),k=t[0].outerHTML,L="$vs_collection",q=!1,H={vsRepeat:"elementSize",vsOffsetBefore:"offsetBefore",vsOffsetAfter:"offsetAfter",vsScrolledToEndOffset:"scrolledToEndOffset",vsExcess:"excess"};if(t.attr("ng-repeat"))A="ng-repeat",n=t.attr("ng-repeat");else if(t.attr("data-ng-repeat"))A="data-ng-repeat",n=t.attr("data-ng-repeat");else if(t.attr("ng-repeat-start"))q=!0,A="ng-repeat-start",n=t.attr("ng-repeat-start");else{if(!t.attr("data-ng-repeat-start"))throw new Error("vs-repeat: no ng-repeat directive on a child element");q=!0,A="data-ng-repeat-start",n=t.attr("data-ng-repeat-start")}if(e=/^\s*(\S+)\s+in\s+([\S\s]+?)(track\s+by\s+\S+)?$/.exec(n),B=e[1],E=e[2],O=e[3],q)for(var r=0,o=s.children().eq(0);null==o.attr("ng-repeat-end")&&null==o.attr("data-ng-repeat-end");)r++,o=s.children().eq(r),k+=o[0].outerHTML;return s.empty(),{pre:function(f,e,d){var p,u,m,h,v,t,x=N.isDefined(d.vsRepeatContainer)?N.element(e[0].querySelector(d.vsRepeatContainer)):e,e=N.element(k),n=e[0].tagName.toLowerCase(),$=[],g=void 0!==d.vsHorizontal,z=N.element("<"+n+' class="vs-repeat-before-content"></'+n+">"),S=N.element("<"+n+' class="vs-repeat-after-content"></'+n+">"),o=!d.vsRepeat,I=!!d.vsSize||!!d.vsSizeProperty,M=d.vsScrollParent?"window"===d.vsScrollParent?N.element(D):F.call(x,d.vsScrollParent):x,w="vsOptions"in d?f.$eval(d.vsOptions):{},y=g?"clientWidth":"clientHeight",a=g?"offsetWidth":"offsetHeight",C=g?"scrollLeft":"scrollTop";if(f.totalSize=0,"vsSize"in d||0 in d,0===M.length)throw"Specified scroll parent selector did not match any element";function s(){var n;!$||$.length<1?(f[L]=[],p=0,f.sizesCumulative=[0]):(p=$.length,I?(f.sizes=$.map(function(e){var t=f.$new(!1),e=(N.extend(t,e),t[B]=e,d.vsSize||d.vsSizeProperty?t.$eval(d.vsSize||d.vsSizeProperty):f.elementSize);return t.$destroy(),e}),n=0,f.sizesCumulative=f.sizes.map(function(e){var t=n;return n+=e,t}),f.sizesCumulative.push(n)):i()),c()}function i(){o&&f.$$postDigest(function(){if(x[0].offsetHeight||x[0].offsetWidth){for(var e=x.children(),t=0,n=!1,s=!1;t<e.length;){if(null!=e[t].attributes[A]||s){if(n||(f.elementSize=0),n=!0,e[t][a]&&(f.elementSize+=e[t][a]),!q)break;if(null!=e[t].attributes["ng-repeat-end"]||null!=e[t].attributes["data-ng-repeat-end"])break;s=!0}t++}n&&(c(),o=!1,f.$root)&&!f.$root.$$phase&&f.$apply()}else var r=f.$watch(function(){(x[0].offsetHeight||x[0].offsetWidth)&&(r(),i())})})}function R(){var e="tr"===n?"":"min-";return g?e+"width":e+"height"}function r(){T()&&f.$digest()}function l(){void 0!==d.vsAutoresize&&(o=!0,i(),f.$root)&&!f.$root.$$phase&&f.$apply(),T()&&f.$apply()}function c(){var e;m=u=void 0,h=p,v=0,e=I?f.sizesCumulative[p]:f.elementSize*p,f.totalSize=f.offsetBefore+e+f.offsetAfter,T(),f.$emit("vsRepeatReinitialized",f.startIndex,f.endIndex)}function b(){var e=j(M[0],y);e!==t&&(c(),f.$root)&&!f.$root.$$phase&&f.$apply(),t=e}function T(){c=M[0],a=C;var e=(c===D?Y():c)[a],t=j(M[0],y),n=x[0]===M[0]?0:(c=x[0],a=M[0],o=g,c.getBoundingClientRect()[o?"left":"top"]-(a===D?0:a.getBoundingClientRect()[o?"left":"top"])+(a===D?Y():a)[o?"scrollLeft":"scrollTop"]),s=f.startIndex,r=f.endIndex;if(I){for(s=0;f.sizesCumulative[s]<e-f.offsetBefore-n;)s++;for(0<s&&s--,r=s=Math.max(Math.floor(s-f.excess/2),0);f.sizesCumulative[r]<e-f.offsetBefore-n+t;)r++;r=Math.min(Math.ceil(r+f.excess/2),p)}else s=Math.max(Math.floor((e-f.offsetBefore-n)/f.elementSize)-f.excess/2,0),r=Math.min(s+Math.ceil(t/f.elementSize)+f.excess,p);h=Math.min(s,h),v=Math.max(r,v),f.startIndex=w.latch?h:s,f.endIndex=w.latch?v:r;var o,a,i,l,c=null!=u&&null!=m?!1:!0;return c||(w.hunked?(Math.abs(f.startIndex-u)>=f.excess/2||0===f.startIndex&&0!==u||Math.abs(f.endIndex-m)>=f.excess/2||f.endIndex===p&&m!==p)&&(c=!0):c=f.startIndex!==u||f.endIndex!==m),c&&(f[L]=$.slice(f.startIndex,f.endIndex),f.$emit("vsRepeatInnerCollectionUpdated",f.startIndex,f.endIndex,u,m),d.vsScrolledToEnd&&(a=$.length-(f.scrolledToEndOffset||0),f.endIndex>=a&&m<a||$.length&&f.endIndex===$.length)&&f.$eval(d.vsScrolledToEnd),u=f.startIndex,m=f.endIndex,a=(o=W(I?"(sizesCumulative[$index + startIndex] + offsetBefore)":"(($index + startIndex) * elementSize + offsetBefore)"))(f,{$index:0}),i=o(f,{$index:f[L].length}),l=f.totalSize,z.css(R(),a+"px"),S.css(R(),l-i+"px")),c}f.$scrollParent=M,I&&(f.sizesCumulative=[]),f.elementSize=+d.vsRepeat||j(M[0],y)||50,f.offsetBefore=0,f.offsetAfter=0,f.excess=2,g?(z.css("height","100%"),S.css("height","100%")):(z.css("width","100%"),S.css("width","100%")),Object.keys(H).forEach(function(t){d[t]&&d.$observe(t,function(e){f[H[t]]=+e,c()})}),f.$watchCollection(E,function(e){$=e||[],s()}),e.eq(0).attr(A,B+" in "+L+(O?" "+O:"")),e.addClass("vs-repeat-repeated-element"),x.append(z),x.append(e),P(e)(f),x.append(S),f.startIndex=0,f.endIndex=0,M.on("scroll",r),N.element(D).on("resize",l),f.$on("$destroy",function(){N.element(D).off("resize",l),M.off("scroll",r)}),f.$on("vsRepeatTrigger",s),f.$on("vsRepeatResize",function(){o=!0,i()}),f.$on("vsRenderAll",function(){w.latch&&setTimeout(function(){var e=p;v=Math.max(e,v),f.endIndex=w.latch?v:e,f[L]=$.slice(f.startIndex,f.endIndex),m=f.endIndex,f.$$postDigest(function(){z.css(R(),0),S.css(R(),0)}),f.$apply(function(){f.$emit("vsRenderAllDone")})})}),f.$watch(function(){"function"==typeof D.requestAnimationFrame?D.requestAnimationFrame(b):b()})}}}}}]);"undefined"!=typeof module&&module.exports&&(module.exports=e.name)}(window,window.angular);