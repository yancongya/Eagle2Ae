# Eagle插件详细指南

这是Eagle2Ae项目中Eagle插件部分的详细说明文档。

## 系统架构

```
┌─────────────────┐    HTTP API      ┌──────────────────┐
│   Eagle插件     │ ←──────────────→ │   AE CEP扩展     │
│   (后台服务)    │    实时通信      │    (面板)        │
└─────────────────┘                  └──────────────────┘
         ↑                                      ↓
    监听文件选择                          ExtendScript通信
         ↑                                      ↓
┌─────────────────┐                  ┌──────────────────┐
│     Eagle       │                  │ After Effects    │
│   (用户选择)    │                  │   (导入文件)     │
└─────────────────┘                  └──────────────────┘
```

## 组件说明

### Eagle插件 (后台服务)
- **位置**: `/Export to ae/`
- **类型**: Eagle后台服务插件
- **功能**:
  - 自动启动HTTP服务器 (端口8080)
  - 监听Eagle中的文件选择事件
  - 与AE CEP扩展进行HTTP通信
  - 发送文件导入指令
  - 完全后台运行，无用户界面

## 安装指南

### 安装Eagle插件

1. 确保Eagle应用已安装并运行
2. 将 `Export to ae` 文件夹放置在Eagle插件目录中
3. 重启Eagle - 插件会自动作为后台服务启动

## 功能特性

### 🔗 HTTP通信
- RESTful API接口
- 自动服务启动
- 状态实时同步

### 📁 智能文件处理
- 支持多种文件格式（图片、视频、音频）
- 自动文件类型识别
- 智能导入选项

### 🔄 自动化工作流
- 无需手动操作
- 后台自动处理
- 实时状态反馈

### 📊 完善的日志系统
- 详细操作记录
- 错误信息提示
- 调试信息支持

## 支持的文件类型

| 类型 | 格式 |
|------|------|
| 图片 | JPG, PNG, TIFF, PSD, AI, EPS, EXR, HDR等 |
| 视频 | MP4, MOV, AVI, MKV, WebM, MXF等 |
| 音频 | MP3, WAV, AAC, FLAC, M4A等 |

## API接口

### 状态查询
```
GET /status
返回插件运行状态
```

### 文件导入
```
POST /import
发送文件导入请求到AE
```

## 故障排除

### 连接问题
- 检查Eagle插件是否正在运行
- 确认端口8080未被占用
- 检查防火墙设置

### 导入问题
- 确保AE中有打开的项目
- 检查文件路径和权限
- 查看插件日志信息

### 安装问题
- 确认Eagle版本支持插件
- 检查插件是否正确安装
- 验证插件在管理器中已启用

## 开发信息

- **Eagle插件版本**: 1.0.1
- **兼容性**: Eagle 4.0+
- **技术栈**:
  - Eagle Plugin API
  - Node.js (Eagle内置)
  - HTTP服务器

## 许可证

MIT License - 详见项目根目录LICENSE文件
