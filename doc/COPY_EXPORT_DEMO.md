# 复制导出功能演示

## 功能演示流程

### 步骤1：准备工作
```
1. 启动Eagle应用
2. 确保Eagle2Ae插件已启用并运行
3. 启动After Effects
4. 打开Eagle2Ae扩展面板
```

### 步骤2：导出图层
```
1. 在AE中创建或选择图层
2. 在Eagle2Ae扩展中点击"检测图层"
3. 选择要导出的图层
4. 点击"导出图层"按钮
5. 等待导出完成，查看导出日志
```

### 步骤3：复制到剪贴板
```
1. 导出完成后，"复制导出"按钮变为可用状态
2. 点击"复制导出"按钮
3. 按钮显示"复制中..."状态
4. 等待复制完成，查看成功提示
```

### 步骤4：验证复制结果
```
1. 打开任意图片编辑软件（如Photoshop、Paint等）
2. 使用Ctrl+V（Windows）或Cmd+V（Mac）粘贴
3. 确认图片已成功粘贴
```

## 预期结果

### 成功情况
- AE扩展显示：`✅ 文件已成功复制到剪贴板`
- Eagle显示系统通知：`已复制 X 个文件到剪贴板`
- 可以在其他应用程序中成功粘贴图片

### 错误情况示例
- `❌ 无法连接到Eagle插件，请确保Eagle正在运行且插件已启用`
- `❌ 没有可复制的导出文件`
- `❌ 复制到剪贴板失败: 文件不存在`

## 技术验证

### API调用流程
```
1. AE扩展 -> Eagle插件: POST /copy-to-clipboard
   {
     "type": "copy_files",
     "filePaths": ["/path/to/exported/file1.png", "/path/to/exported/file2.png"],
     "timestamp": 1640995200000
   }

2. Eagle插件验证文件存在性
3. Eagle插件调用: eagle.clipboard.copyFiles(validPaths)
4. Eagle插件返回结果: 
   {
     "success": true,
     "message": "成功复制 2 个文件到剪贴板",
     "copiedCount": 2,
     "totalCount": 2
   }
```

### 日志输出示例
```
AE扩展日志：
📋 开始复制导出文件到剪贴板...
📁 准备复制 2 个文件: /path/to/Layer1.png, /path/to/Layer2.png
✅ 文件已成功复制到剪贴板

Eagle插件日志：
📋 收到复制请求，文件数量: 2
✅ 文件存在: /path/to/Layer1.png
✅ 文件存在: /path/to/Layer2.png
🎉 成功复制 2 个文件到剪贴板
```

## 集成测试要点

1. **多文件复制**：导出多个图层，验证所有文件都能正确复制
2. **文件不存在处理**：删除部分导出文件，验证错误处理
3. **Eagle插件离线**：关闭Eagle，验证连接错误处理
4. **网络超时**：模拟网络延迟，验证超时处理
5. **剪贴板冲突**：在复制过程中操作其他剪贴板内容
6. **跨平台兼容性**：在Windows和Mac上测试文件路径处理

## 性能考虑

- 文件大小：支持常规PNG文件（通常<50MB）
- 文件数量：建议单次复制不超过20个文件
- 响应时间：通常在1-3秒内完成复制操作
- 内存使用：复制过程中临时占用系统剪贴板内存
