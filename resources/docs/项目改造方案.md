### **Eagle2Ae 项目改造方案 (v2)**

#### **1. 背景与目标**

根据你的最新反馈，本方案旨在将 `Eagle2Ae` 项目重构为一个结构更聚合、职责更清晰的现代化 Monorepo。

**核心思路：**
*   **整合应用 (Eagle2Ae-web):** 将 AE 和 Eagle 两个扩展整合为一个统一的 Web 应用。应用首页 (`/`) 作为展示页，通过子路由 (`/ae`, `/eagle`) 分别展示两个扩展的在线 Demo 界面。
*   **整合文档 (Eagle2Ae-docs):** 将 AE 和 Eagle 的文档合并为一个统一的 VitePress 文档站点，通过侧边栏导航区分不同部分。
*   **资源归档 (resources):** 将所有设计、参考等非代码文件统一存放。

**最终目标：**
1.  **聚合展示：** 以两个独立的、专业的网站（一个应用，一个文档）在线展示项目成果。
2.  **简化部署：** 将部署目标从四个减少到两个，降低维护成本。
3.  **统一管理：** 继续利用 Monorepo 优势，在单一 Git 仓库中进行代码的统一维护和版本管理。

#### **2. 核心方案：pnpm Workspaces + 整合应用**

我们将采用 pnpm Workspaces 管理项目，但内部结构调整为应用和文档两大模块。

##### **2.1. 最终目录结构**

```
/Eagle2Ae
├── .git/
├── .gitignore
├── pnpm-workspace.yaml
├── package.json
│
├───apps/
│   ├───web/                    # 统一的 Web 应用 (Eagle2Ae-web)
│   │   ├───package.json
│   │   ├───vite.config.js
│   │   ├───src/
│   │   │   ├───router/         # 路由配置
│   │   │   ├───views/          # 页面组件 (Home.vue, AeExtension.vue, EagleExtension.vue)
│   │   │   ├───components/     # 共享组件
│   │   │   └───main.js         # 应用入口
│   │   └───... 
│   │
│   └───docs/                   # 统一的文档站点 (Eagle2Ae-docs)
│       ├───package.json
│       ├───ae/                 # AE 的 .md 文档
│       ├───eagle/              # Eagle 的 .md 文档
│       └───.vitepress/         # VitePress 配置
│
└───resources/
    ├───design/
    └───reference/
```

##### **2.2. 改造步骤**

1.  **初始化 Monorepo:**
    *   在根目录创建 `pnpm-workspace.yaml`，内容为 `packages: ['apps/*']`。
    *   创建根 `package.json` 用于管理全局脚本和依赖。

2.  **创建 `apps/web` (Web 应用):**
    *   在 `apps/web` 目录下，初始化一个新的前端项目（推荐使用 Vite + Vue 或 React）。
    *   安装并配置路由库（如 `vue-router`）。
    *   **迁移与改造：** 将原 `Eagle2Ae-Ae` 和 `Eagle2Ae-Eagle` 的核心 UI 和逻辑代码，作为组件或视图**重构并整合**到此项目中。例如，创建 `AeExtension.vue` 和 `EagleExtension.vue` 两个视图组件。
    *   **重要提示：** 在这个 Web 应用中，两个扩展将作为**功能演示 (Demo)** 存在，它们无法像在 AE 或 Eagle 客户端中那样执行原生交互。这对于在线展示和分享是非常合适的。

3.  **创建 `apps/docs` (文档站点):**
    *   在 `apps/docs` 目录下，初始化一个 VitePress 项目。
    *   将原 `docs/AE` 的 Markdown 文件移动到 `apps/docs/ae`。
    *   将原 `docs/EAGLE` 的 Markdown 文件移动到 `apps/docs/eagle`。
    *   **配置导航：** 修改 `.vitepress/config.js` 文件，配置侧边栏（sidebar），使其能同时展示 “AE 文档” 和 “Eagle 文档” 两个分组。

4.  **归档资源文件:**
    *   创建 `resources` 目录，并将 `设计资源` 和 `参考` 文件夹移动进去。

#### **3. 未来的维护与部署**

*   **本地开发：**
    *   启动 Web 应用开发：`pnpm --filter web dev`
    *   启动文档站点开发：`pnpm --filter docs dev`

*   **构建与部署 (以 Vercel 为例):**
    *   现在你只需要在 Vercel 上创建 **2个项目**。
    *   **Vercel 项目 1 (Eagle2Ae-web):**
        *   Git Repository: `your-github-repo/Eagle2Ae`
        *   **Root Directory:** `apps/web`
    *   **Vercel 项目 2 (Eagle2Ae-docs):**
        *   Git Repository: `your-github-repo/Eagle2Ae`
        *   **Root Directory:** `apps/docs`

*   **统一管理：**
    *   所有开发仍在单一 Git 仓库中进行，`git` 命令的使用和以前完全一样，保持了管理的统一性。

#### **4. 总结**

这个优化后的 v2 方案，使你的项目结构更加聚合，对外呈现更专业、统一的形象。

*   **优点：** 最终产物（网站）结构清晰，部署和维护目标更少，用户体验更连贯。
*   **挑战：** `apps/web` 的创建需要一些额外的前端工程工作，主要是初始化项目和重构现有扩展代码以适应路由。

这个方案更贴近一个成熟产品在线展示的形态。
